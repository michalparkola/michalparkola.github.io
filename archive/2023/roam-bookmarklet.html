<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Fluid Circle Michał Parkoła
		</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css">
	</head>
	<body>
		<h3>RoamResearch Bookmarklet</h3>

		<p>This bookmarklet:
			<ol>
				<li>copies whatever text you have selected into the clipboard,</li>
				<li>and adds the page title and url</li>
				<li>so that you can paste it into <a href="https://roamresearch.com">your second brain</a>.</li>
			</ol>
		</p>
		<p>This bookmarklet is based on the <a href="https://nesslabs.com/roam-research-bookmarklet">original Roam bookmarklet from NESSLABS</a> extened using <a href="https://gist.github.com/stefanmaric/2abf96c740191cda3bc7a8b0fc905a7d">this tip</a>.
		</p>

		<h3>Readable</h3>
<pre>
<code>
javascript: (
function () {
	let text = "empty";
	if (window.getSelection() != '') {
		text = window.getSelection().toString();
	}
	textWithRef = "%5F%5F" + text + "%5F%5F%20%E2%80%94%20via%20%5B" + document.title + "%5D%28" + location.href + "%29";
	var b = document.createElement("textarea"), c = document.getSelection();
	b.textContent = textWithRef, document.body.appendChild(b), c.removeAllRanges(), b.select(), document.execCommand("copy"), c.removeAllRanges(), document.body.removeChild(b)
}
)()
</code>
</pre>
		
		
		<h3>Minified</h3>
		
<pre>
<code>
javascript:(function(){let e="empty";""!=window.getSelection()&&(e=window.getSelection().toString()),textWithRef="%5F%5F"+e+"%5F%5F%20%E2%80%94%20via%20%5B"+document.title+"%5D%28"+location.href+"%29";var t=document.createElement("textarea"),o=document.getSelection();t.textContent=textWithRef,document.body.appendChild(t),o.removeAllRanges(),t.select(),document.execCommand("copy"),o.removeAllRanges(),document.body.removeChild(t)}();)
</code>
</pre>

	</body>
</html>
